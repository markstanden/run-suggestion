@page "/authentication/{action}"
@using RunSuggestion.Web.Authentication
@inject NavigationManager Navigation

@code {
    [Parameter] public string Action { get; set; } = string.Empty;

    private static class AuthAction
    {
        public const string Login = "login";
        public const string Logout = "logout";
    }

    protected override void OnInitialized()
    {
        string action = Action.Trim().ToLower();
        string redirectTarget = Navigation.Uri;

        string navPath = action switch
        {
            AuthAction.Login => StaticWebApp.LoginPath(redirectTarget),
            AuthAction.Logout => StaticWebApp.LogoutPath(redirectTarget),
            _ => "/"
        };

        Navigation.NavigateTo(navPath, true);
    }

}